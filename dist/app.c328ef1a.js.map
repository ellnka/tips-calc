{"version":3,"sources":["component.js","field.js","inputField.js","result.js","checkBoxField.js","tipCalculator.js","app.js"],"names":["Component","element","$element","hideElements","showElements","eventName","handler","addEventListener","detail","event","CustomEvent","dispatchEvent","$elements","forEach","classList","contains","add","remove","Field","oncut","onpaste","onkeypress","_trigger","InputField","precision","value","isMoreThanZero","toFixed","_precision","_isMoreThanZero","onchange","_changeHandler","bind","Number","Result","results","bill","split","tips","splitCount","_calculateResults","_resetResults","tipsAmount","calculateTips","billAmount","querySelector","textContent","formatPrice","isFinite","price","isNumber","Math","ceil","CheckBoxField","TipCalculator","$bill","$tips","$splitCount","$isBillSplit","$results","total","$splitBetweenContainer","on","_inputChangedHandler","_checkBoxChangedHandler","_submitHandler","_hideAllResults","toggle","preventDefault","updateResults","show","hide","tipCalculator","document"],"mappings":"AMAA,AFAA,AJAA,ACAA,ACAA,ACAA,AEAA;;ACCA;;AAEA,IAAIwE,aAAa,GAAG,IAAIlB,4BAAJ,CAAkB;AAACrD,EAAAA,OAAO,EAAEwE,QAAQ,CAAC5B,aAAT,CAAuB,kCAAvB;AAAV,CAAlB,CAApB;AFFA,AHAA,ACAA,ACCA,AEDA;;AACA;;AACA;;ILFa7C;;;AAET,2BAAuB;AAAA,QAAVC,OAAU,QAAVA,OAAU;;AAAA,IKEdqD;;ALDL,SAAKpD,QAAL,GAAgBD,OAAhB;AACH,AKCD,+BAAuB;AAAA,IJHdiB,IIGIjB,OAAU,QAAVA,OAAU;;AAAA;2BLiBhB;AACHD,AKjBA,IDJKqD,AFAA9B,ACCAW,EHoBLlC,GKjBKE,MLiBI,CAACC,CKjBV,GAAgBF,OAAhB,CLiBA,CAAuB,KAAKC,QAA5B;AACH,ACpBD,AIII,SAAKqD,KAAL,GAAa,IAAIhC,EJJE,oBIIN,CAAe;AJJT,AIKftB,MAAAA,OAAO,EAAE,KAAKC,QAAL,CAAc2C,aAAd,CAA4B,yBAA5B,CADe;AAExBrB,MAAAA,SAAS,EAAE,CAFa;AJJT,AIOfC,MAAAA,EJPKxB,GIOA,EAAE,EJPQ,CIIS,OJJnBA,IDsBN,GCtBgB;AGAvB,AJuBID,AEvBJ,ACCA,AEOQ0B,MLeJ1B,AKfI0B,SLeK,CAACtB,IKfQ,EAAE,EFPD,IHsBnB,AEvBqD,CFuB9B,EIvBH,GJuBQF,QAA5B;AIvBoB,AJwBvB,ACxBsB,ACAkC,ACClC,AEGS,KAAf,CAAb;AAMA,SAAKsD,KAAL,GAAa,IAAIjC,sBAAJ,CAAe;ADVR,AHCpB,ACDqD,ACClC,AEUftB,MAAAA,EDXMA,AFADA,ACCAA,KEUE,EDXS,AFAiC,ACClC,AEUN,KAAKC,GDXRD,AFADA,ACCAA,KEUI,CAAc4C,CDXP,AFAiC,ACClC,YEUN,CAA4B,yBAA5B,CADe,UJTtB;AAAC5C,ACD8C,AGYjDuB,MJXGvB,AIWHuB,EHZcA,KDCJ,EAAPvB,AIWM,EHZwC,AGYtC,CAFa,KLgB7BI,EE1BmBmB,SF0BRlB,AE1B2C,SF0BlC;AI1BC,AJ2BpB,AC1BM,ACD+C,ACClC,AEYfmB,KJZJ,CIYIA,EHbyBA,GF2BxBvB,AKdI,EHb4C,AGa1C,EAHiB,ILiB5B,CAAcK,CE3BekB,KAAwB,UF2BrD,CAA+BpB,SAA/B,EAA0CC,OAA1C;AACH,AE5BwD,AGcjDoB,MAAAA,EHdgCA,YGclB,EHdmC,AGcjC,QHdgBA,cAAiB;AECrD,AHEA,AEDA,AEQ4B,KAAf,CAAb,IJPKxB,QAAL,CAAciB,KAAd,GAAsB,MAAKjB,QAAL,CAAckB,OAAd,GAAwB,MAAKlB,QAAL,CAAcmB,UAAd,GAA2B,AEDlE,OCDD,KHEyE;AGFxEpB,AHGH,ACJiD,ACE7CA,AEcR,MDfOA,ADCCA,GEcHwD,GJZInC,CGHK,ADCC,ECDRrB,ADCCA,KFEJ,AIYJ,CJZkB,EIYC,IAAIsB,QJZnB,cIYe,CAAe;ADf5B,AHIL,AEHM,AEeHtB,KDhBJ,AHEA,AEDA,CEeIA,OAAO,EAAE,KAAKC,QAAL,CLaRG,AKbsBwC,WLaXrC,EKbH,CAA4B,KLajB,0BKbX,CADqB;ADdlC,AJ6BA,AE9BA,ACEA,AEeIgB,MAAAA,IDhBCC,AJ6BChB,AG5BD0B,KCDL,AJ6BW,AKbE,EFfb,AEee,CDhBF,AJ6BC,AKfoB,EFbnB,EH4BGzB,CI7BlB,UJ6Bc,CAAgBL,SAAhB,EAA2B,uCE9BnC;AEGN,AJ2B0CG,AC/BvB,ACEfP,ACCYmC,AEgBZX,MHjBAxB,ACCYmC,AEgBZX,ELYsCjB,EI3BrCN,ADDe,CEgBX,CFhBa,CDDX,ACCI,AEgBJ,CLYqC,AKfd,CHd9BD,CF6BsCO,EI3B1C,CAAcsB,QAAd,GAAyB,MAAKC,cAAL,CAAoBC,IAApB,+BAAzB;AAJoB,AJ+BqB,ACzB5C,ACLS,ACEmBK,AEiBrBX,KHnBJ,CCEyBW,AEiBrBX,CLWU,CAAd,GG5B8B,EAAE,OEiBd,EAAE;ADfvB,AJ2BG,AE3BA,ACFe,AEamB,KFblC,AEamB,CAAnB,IHXKxB,CF2BAA,OE3BL,CF2BA,AE3BcuB,CF2BAd,IE3Bd,GAAsBc,KAAK,CF2B3B,AE3B4BE,CF2BAlB,KAA5B,CE3BsB,CAAce,SAAd,CAAtB;AF4BH,AE3BG,ACLmB,AEsBnB,SAAKkC,CHjBAjC,KAAL,GAAaA,GGiBb,EHjBA,CGiBoB,IAAI4B,4BAAJ,CAAkB;AHhBtC,ACHH,AEoBOpD,EJ1BeD,II0BfC,IHjBC2B,GGiBM,EAAE,KHjBb,AGiBkB1B,GHjBAsB,KGiBL,CAAcqB,GHjB3B,UGiBa,CAA4B,gCAA5B;AHhBb,AGesC,KAAlB,CAApB,IHfKhB,eAAL,GAAuBH,cAAvB;AAEA,AGgBA,SAAKiC,CHhBAzD,OGgBL,CHhBA,CAAc4B,CGgBE,OHhBhB,GAAyB,KFRK,CEQAC,CEHjB,aFGY,CAAoBC,IAApB,+BAAzB;AEFA,AJN8B,AEFuB,AG2B7C4B,MAAAA,KDnBHtC,ACmBQ,EAAE,IAAIY,EDnBnB,CAAc,WCmBC,CAAW,EDnB1B,EAA8B,IJNXtB,SAAW;AIMCJ,AJNZI,AEStB,AGgB8BX,QDnBIO,AJNZI,AKyBQX,MDnBU,CCmBH,CDnBK,CJNT,AKyBM,KAAKC,QAAL,CAAc2C,GFTxCP,MAAMF,IESoB,CAA4B,CFT1CG,YAAY,oBESE;ADnBN,AJNA,AGiB9B,AEQ0B,ODnB1B,ACmBe,CADC,GFPXC,iBAAL,CAAuBF,IAAvB,EAA6BF,IAA7B,EAAmCG,UAAnC;AESQF,MAAAA,KAAK,EAAE,IAAIH,cAAJ,CAAW;ADnB1B,AJNAtB,AGiBA,AEQ2BX,MLzB3BW,EKyB2BX,GDnBtBqB,ADWAmB,IHjBI,AKyByB,CLzBxB5B,CKyB0B,EDnBpC,CAAc,ECmB2BX,CLzBzC,CAAkB,AGiBlB,MEQoC,CAAc2C,GLzB/B3C,GIMnB,EAAiC,GJNf,EAAc,AKyBI,CAA4B,iCAA5B;ADnBFM,AJL9B,AGiBP,AEO6B,OAAX,CDnBmBA,IJL1BN,EIKgC,EAAE,IJL1B,IAAIA,QAAQ,CAACY,IEShB,KFTL,IAAkC,CAACZ,QAAQ,CAACY,SAAT,CAAmBC,QAAnB,CAA4B,QAA5B,CAAvC,EAA8E;AIKjD,AJJzBb,AESR,AGYgB,KAAhB,EDjBA,GJJQA,CESHoB,OFTW,CAACR,AESjB,CAAc,QFTN,CAAmBE,GAAnB,CAAuB,CES/B,OFTQ;AACH,AKyBL,SAAK6C,sBAAL,GAA8B,KAAK3D,QAAL,CAAc2C,aAAd,CAA4B,yCAA5B,CAA9B;ADpBA,AJJC,AESD,AGiBA,OL9BA,EK8BKU,CHjBD,CELC9B,GCsBL,CHjBSI,AGiBEiC,CDtBX,CCsBA,CAAc,CDtBD,CAAC,KAAKrC,KAAnB,AFKI,EGiBJ,EHjB4BQ,AGiBE,IFVhBK,CEUqByB,CHjBD,CAAC,GCOf3B,EDPoBlC,ICOdqC,IDPS,CAAcd,IGiBnB,CHjBI,AGiBsBO,CHjB5B,CCOU,EEUR,CHjB6B,AGiBE,CHjB7D,EAA8D,CGiBhC,CAA9B;ADrBH,AJJA,AESO,ACOJ,AEUA,SAAKwB,CFVDd,GDPKxC,CGiBT,CAAW4D,EAAX,CAAc,EFVA,CDPV,CAAcrC,CCODS,IDPb,ECOmB,CDPG,ACOFS,CDPpB,CGiBJ,EAA8B,KAAKoB,IFVlB,CAAqBzB,IAArB,EAA2BF,IAA3B,CAAjB,IEU8B,CAA0BJ,IAA1B,CAA+B,IAA/B,CAA9B;AHhBC,ACOD,AEUA,SAAKyB,CFVDb,UAAU,AEUd,CAAiBkB,EFVA1B,AEUjB,CAAoB,GFVC,GAAGM,QEUxB,EFVA,AEUoC,KAAKqB,oBAAL,CAA0B/B,IAA1B,CAA+B,IAA/B,CAApC;AACA,SAAK0B,YAAL,CAAkBI,EAAlB,CAAqB,cAArB,EAAqC,KAAKC,oBAAL,CAA0B/B,IAA1B,CAA+B,IAA/B,CAArC;AHjBA,ACSA,AESA,SAAK0B,CFTDnB,CDTCd,KAAL,GAAaQ,CCSC,CESd,CAAkB6B,CFTD,CAAjB,AESA,CHlBmB,AGkBE,CHlBD,ACSA,KDTK5D,IFTK,IESV,CAAcuB,EGkBlC,EAAwC,CHlBrB,CAAnB,GGkB6CuC,uBAAL,CAA6BhC,IAA7B,CAAkC,IAAlC,CAAxC;AL3B8B,AEU9B,ACSI,AESJ,EDxC2Bd,OCwCtBhB,EHlBAA,ECSIiC,IEST,CAAc5B,CHlBd,CAAckB,ACSV,GAAe,EDTnB,GAAsB,KAAKA,CGkB3B,CAA+B,GHlBT,CAAWE,EFVdf,EK4BnB,EAAyC,CHlBnB,CAAmB,GFVX,AK4BgBqD,EHlBArC,UAAxB,CAAtB,CGkByC,CAAoBI,IAApB,CAAyB,IAAzB,CAAzC;AL5BmBpB,AEWtB,ACSW0B,AEUX,QL9BsB1B,EGoBX0B,IAAI,EAAEI,CHpBgB,SGoBN,GAAGH,UADR;AHnBW,AGqBtBH,UAAAA,IAAI,EAAEQ,UAAU,GAAGL;AAFR,SAAf;AHlBJ3B,AGsBC,MHtBDA,CGiBA,MAKO,EHtBE,CAACC,OAAV,CAAkB,UAACX,QAAD,EAAc;AAC5B,AGsBA,EDpCoBgB,UFchBhB,CGsBCiC,OHtBO,AGsBZ,GAAe,CHtBCjC,QAAQ,CAACY,SAArB,CK8BW,GL9BuBZ,QAAQ,CAACY,SAAT,CAAmBC,QAAnB,CAA4B,QAA5B,CAAtC,EAA6E;AACzEb,AGsBAoC,AEQR,UL9BQpC,AGsBAoC,CEQH4B,GFRO,EAAExB,EHtBE,CAAC5B,OGqBE,AESnB,EL9BQ,CAAmBG,MAAnB,CAA0B,QAA1B;AACH,AGsBGmB,AEQX,UFRWA,IAAI,EAAEQ;AHrBb,AGmBkB,OHvBnB,EGuBI;AHlBP,AGsBI;AACJ,8CEOyB;AACtB,WAAKiB,sBAAL,CAA4B/C,SAA5B,CAAsCqD,MAAtC,CAA6C,QAA7C;AACH;oCFPe;AACZ,WAAKjE,QAAL,CAAc2C,aAAd,CAA4B,wBAA5B,EAAsDC,WAAtD,GAAoEZ,MAAM,CAACa,WAAP,CAAmB,KAAKZ,OAAL,CAAaC,IAAhC,CAApE;AACA,WAAKlC,QAAL,CAAc2C,aAAd,CAA4B,CEOjBpC,OAAO,gBFPlB,EAAsDqC,WAAtD,GAAoEZ,MAAM,CAACa,WAAP,CAAmB,KAAKZ,OAAL,CAAaG,IAAhC,CAApE;AACH,AEOG7B,MAAAA,KAAK,CAAC2D,cAAN;AACA,WAAKT,QAAL,CAAcC,KAAd,CAAoBS,aAApB,CAAkC,KAAKb,KAAL,CAAW/B,KAA7C,EAAoD,KAAK8B,KAAL,CAAW9B,KAA/D;AACA,WAAKkC,QAAL,CAAcC,KAAd,CAAoBU,IAApB;kCF/CiBhC,MAAMF,MAAM;AAC7B,AE+CA,UAAI,GF/CGA,EE+CEsB,EF/CE,GAAGpB,IAAP,GAAc,AE+CjB,CAAkBb,EF/CtB,GE+CA,EAA6B;AF9ChC,AE+CO,aAAKkC,QAAL,CAActB,KAAd,CAAoBgC,aAApB,CAAkC,KAAKb,KAAL,CAAW/B,KAA7C,EAAoD,KAAK8B,KAAL,CAAW9B,KAA/D,EAAsE,KAAKgC,WAAL,CAAiBhC,KAAvF;AACA,aAAKkC,QAAL,CAActB,KAAd,CAAoBiC,IAApB;AACH,OAHD,MAGO;AACH,aAAKX,QAAL,CAActB,KAAd,CAAoBgC,CFhDZ5C,OAAO,KEgDf,CAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC;AF/CJ,AEgDI,aFhDG,AEgDEkC,OFhDKlC,CEgDV,CAAcY,GFhDX,EEgDH,CAAoBkC,EFhDA,EEgDpB,MFhDG,IAA6BvB,QAAQ,CAACvB,KAAD,CAA5C;AACH,AEgDI;AACJ;;gCF/CkBwB,OAAO;AACtB,aAAQf,MAAM,CAACgB,QAAP,CAAgBD,KAAhB,CAAD,GAA2B,AEgDpB,CFhDqBE,IAAI,CAACC,IAAL,CAAWH,KAAD,GAAU,GAApB,IAA2B,GAA5B,EAAiCtB,OAAjC,CAAyC,CAAzC,IAA8C,GAAzE,GAA+E,EAAtF;AACH,AEgDG,WAAKgC,QAAL,CAAcC,KAAd,CAAoBW,IAApB;AACA,WAAKZ,QAAL,CAActB,KAAd,CAAoBkC,IAApB;AACH;;EFnEuBvE;sCEqEN;AACd,WAAK2D,QAAL,CAAcC,KAAd,CAAoBU,IAApB;AACA,WAAKX,QAAL,CAActB,KAAd,CAAoBiC,IAApB;AACH","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["\"use strict\";\r\nexport class Component {\r\n\r\n    constructor({element}) {\r\n        this.$element = element;\r\n    }\r\n\r\n    static hideElements(...$elements) {\r\n        $elements.forEach(($element) => {\r\n            if ($element && $element.classList && !$element.classList.contains(\"d-none\")) {\r\n                $element.classList.add(\"d-none\");\r\n            }\r\n        });\r\n    }\r\n\r\n    static showElements(...$elements) {\r\n        $elements.forEach(($element) => {\r\n            if ($element && $element.classList && $element.classList.contains(\"d-none\")) {\r\n                $element.classList.remove(\"d-none\");\r\n            }\r\n        });\r\n    }\r\n\r\n    hide() {\r\n        Component.hideElements(this.$element);\r\n    }\r\n\r\n    show() {\r\n        Component.showElements(this.$element);\r\n    }\r\n\r\n    on(eventName, handler) {\r\n        this.$element.addEventListener(eventName, handler);\r\n    }\r\n\r\n    _trigger(eventName, detail) {\r\n        const event = new CustomEvent(eventName, {detail});\r\n        this.$element.dispatchEvent(event);\r\n    }\r\n\r\n}","\"use strict\";\r\nimport {Component} from \"./component\";\r\n\r\nexport class Field extends Component {\r\n\r\n    constructor({element}) {\r\n        super({element});\r\n\r\n        this.$element.oncut = this.$element.onpaste = this.$element.onkeypress = () => {\r\n            this._trigger('inputChanged');\r\n        };\r\n    }\r\n\r\n}","\"use strict\";\nimport { Field} from \"./field\";\n\nexport class InputField extends Field {\n\n    constructor({element, precision, value, isMoreThanZero}) {\n        super({\n            element\n        });\n\n        this.$element.value = value.toFixed(precision);\n        this.value = value;\n        this._precision = precision;\n        this._isMoreThanZero = isMoreThanZero;\n\n        this.$element.onchange = this._changeHandler.bind(this);\n    }\n\n    _changeHandler() {\n        this._trigger('inputChanged');\n\n        if (this._isMoreThanZero && Number(this.$element.value) <= 0) {\n            this.$element.value = 1;\n        }\n        this.value = Number(this.$element.value);\n        this.$element.value = this.value.toFixed(this._precision);\n    }\n\n}","\"use strict\";\r\n\r\nimport {Component} from \"./component\";\r\n\r\nexport class Result extends Component{\r\n\r\n    constructor({element}) {\r\n        super ({element});\r\n        this.results = {bill: 0, split: 0};\r\n    }\r\n\r\n    static calculateTips(tips, bill) {\r\n        return bill * tips / 100;\r\n    }\r\n\r\n    static isNumber(value) {\r\n        return typeof value === \"number\" && isFinite(value);\r\n    }\r\n\r\n    static formatPrice(price) {\r\n        return (Result.isNumber(price)) ? (Math.ceil((price) * 100) / 100).toFixed(2) + \"$\" : \"\";\r\n    }\r\n\r\n    updateResults(tips, bill, splitCount) {\r\n        this._calculateResults(tips, bill, splitCount);\r\n        this._resetResults();\r\n    }\r\n\r\n    _calculateResults(tips, bill, splitCount) {\r\n        let tipsAmount = Result.calculateTips(tips, bill);\r\n        let billAmount = bill + tipsAmount;\r\n\r\n\r\n        if (splitCount > 0) {\r\n            this.results = {\r\n                tips: tipsAmount / splitCount,\r\n                bill: billAmount / splitCount\r\n            };\r\n        } else {\r\n            this.results = {\r\n                tips: tipsAmount,\r\n                bill: billAmount\r\n            };\r\n        }\r\n    }\r\n\r\n    _resetResults() {\r\n        this.$element.querySelector('[data-selector=\"bill\"]').textContent = Result.formatPrice(this.results.bill);\r\n        this.$element.querySelector('[data-selector=\"tips\"]').textContent = Result.formatPrice(this.results.tips);\r\n    }\r\n\r\n\r\n\r\n\r\n}","\"use strict\";\r\nimport {Field} from \"./field\";\r\n\r\nexport class CheckBoxField extends Field {\r\n\r\n    constructor({ element}) {\r\n        super({element});\r\n        this.value = false;\r\n\r\n        this.$element.onchange = this._changeHandler.bind(this);\r\n    }\r\n\r\n    _changeHandler() {\r\n        this._trigger('inputChanged', {detail: \"\"});\r\n        this._trigger('checkBoxChanged', {detail: \"\"});\r\n\r\n        this.value = !this.value;\r\n    }\r\n\r\n}","\"use strict\";\nimport {InputField} from \"./inputField\";\nimport {Result} from \"./result\";\nimport {CheckBoxField} from \"./checkBoxField\";\n\nexport class TipCalculator {\n    constructor({element}) {\n        this.$element = element;\n\n        this.$bill = new InputField({\n            element: this.$element.querySelector('[data-component=\"bill\"]'),\n            precision: 2,\n            value: 100,\n            isMoreThanZero: true\n        });\n        this.$tips = new InputField({\n            element: this.$element.querySelector('[data-component=\"tips\"]'),\n            precision: 2,\n            value: 10,\n            isMoreThanZero: false\n        });\n        this.$splitCount = new InputField({\n            element: this.$element.querySelector('[data-component=\"splitCount\"]'),\n            precision: 0,\n            value: 2,\n            isMoreThanZero: true\n        });\n\n        this.$isBillSplit = new CheckBoxField({\n            element: this.$element.querySelector('[data-component=\"isBillSplit\"]')\n        });\n        this.$results = {\n                total: new Result({element: this.$element.querySelector('[data-component=\"totalResults\"]')}),\n                split: new Result({element: this.$element.querySelector('[data-component=\"splitResults\"]')}),\n        };\n\n        this.$splitBetweenContainer = this.$element.querySelector('[data-selector=\"splitBetweenContainer\"]');\n\n        this.$bill.on(\"inputChanged\", this._inputChangedHandler.bind(this));\n        this.$tips.on(\"inputChanged\", this._inputChangedHandler.bind(this));\n        this.$splitCount.on(\"inputChanged\", this._inputChangedHandler.bind(this));\n        this.$isBillSplit.on(\"inputChanged\", this._inputChangedHandler.bind(this));\n        this.$isBillSplit.on(\"checkBoxChanged\", this._checkBoxChangedHandler.bind(this));\n        this.$element.addEventListener(\"submit\", this._submitHandler.bind(this));\n\n    }\n\n    _inputChangedHandler() {\n        this._hideAllResults();\n    }\n\n    _checkBoxChangedHandler() {\n        this.$splitBetweenContainer.classList.toggle(\"d-none\");\n    }\n\n    _submitHandler(event) {\n        event.preventDefault();\n        this.$results.total.updateResults(this.$tips.value, this.$bill.value);\n        this.$results.total.show();\n        if (this.$isBillSplit.value) {\n            this.$results.split.updateResults(this.$tips.value, this.$bill.value, this.$splitCount.value);\n            this.$results.split.show();\n        } else {\n            this.$results.split.updateResults(0, 0, 0);\n            this.$results.split.hide();\n        }\n    }\n\n    _hideAllResults() {\n        this.$results.total.hide();\n        this.$results.split.hide();\n    }\n\n    _showAllResults() {\n        this.$results.total.show();\n        this.$results.split.show();\n    }\n\n\n}","\"use strict\";\nimport {TipCalculator} from \"./tipCalculator\";\n\nlet tipCalculator = new TipCalculator({element: document.querySelector('[data-component=\"tipCalculator\"]')});"]}